{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Andr\\xE9/OneDrive - Softwaresul/Documentos/GitHub/Group_Manager/groupManager-chatbot/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/Andr\\xE9/OneDrive - Softwaresul/Documentos/GitHub/Group_Manager/groupManager-chatbot/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Andr\\xE9/OneDrive - Softwaresul/Documentos/GitHub/Group_Manager/groupManager-chatbot/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Andr\\xE9/OneDrive - Softwaresul/Documentos/GitHub/Group_Manager/groupManager-chatbot/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{createContext,useContext,useState}from\"react\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";var GroupContext=/*#__PURE__*/createContext();var GroupProvider=function GroupProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allGroups=_useState2[0],setAllGroups=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),typeOneGroups=_useState4[0],setTypeOneGroups=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),typeTwoGroups=_useState6[0],setTypeTwoGroups=_useState6[1];var filterGroups=function filterGroups(groups){try{var storedGroups=JSON.parse(localStorage.getItem(\"groups\"));if(storedGroups.length>0){var filteredGroups=[];var objetoComunsENovos=groups.reduce(function(resultado,group){var objetoComum=storedGroups.find(function(storedGroup){return storedGroup.groupId===group.groupId;});if(objetoComum){filteredGroups.push(objetoComum);}else{filteredGroups.push(group);}return resultado;},{gruposEmComum:[],novosGrupos:[]});return filteredGroups;}else{}}catch(error){console.log(error);}};var resetGroups=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var DOMAIN,ENDPOINT,response,data,filteredGroups,filteredAllGroups,filteredTypeOneGroups,filteredTypeTwoGroups;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:DOMAIN=\"http://localhost:3335/api\";ENDPOINT=\"/groups/reset\";_context.prev=2;_context.next=5;return axios.get(\"\".concat(DOMAIN).concat(ENDPOINT));case 5:response=_context.sent;data=response.data;filteredGroups=filterGroups(data.result);localStorage.setItem(\"groups\",JSON.stringify(filteredGroups));filteredAllGroups=filteredGroups.filter(function(group){return group.type===\"all\";});filteredTypeOneGroups=filteredGroups.filter(function(group){return group.type===\"typeOne\";});filteredTypeTwoGroups=filteredGroups.filter(function(group){return group.type===\"typeTwo\";});setAllGroups(filteredAllGroups);setTypeOneGroups(filteredTypeOneGroups);setTypeTwoGroups(filteredTypeTwoGroups);console.log(data);_context.next=21;break;case 18:_context.prev=18;_context.t0=_context[\"catch\"](2);console.log(_context.t0);case 21:case\"end\":return _context.stop();}},_callee,null,[[2,18]]);}));return function resetGroups(){return _ref2.apply(this,arguments);};}();var updateGroups=function updateGroups(groups){try{var filteredAllGroups=groups.filter(function(group){return group.type===\"all\";});var filteredTypeOneGroups=groups.filter(function(group){return group.type===\"typeOne\";});var filteredTypeTwoGroups=groups.filter(function(group){return group.type===\"typeTwo\";});setAllGroups(filteredAllGroups);setTypeOneGroups(filteredTypeOneGroups);setTypeTwoGroups(filteredTypeTwoGroups);var _allGroups=[].concat(_toConsumableArray(filteredAllGroups),_toConsumableArray(filteredTypeOneGroups),_toConsumableArray(filteredTypeTwoGroups));console.log(_allGroups);// Salvar no localStorage\nlocalStorage.setItem(\"groups\",JSON.stringify(_allGroups));}catch(error){console.log(error);}};return/*#__PURE__*/_jsx(GroupContext.Provider,{value:{allGroups:allGroups,typeOneGroups:typeOneGroups,typeTwoGroups:typeTwoGroups,resetGroups:resetGroups,updateGroups:updateGroups},children:children});};var useGroupContext=function useGroupContext(){var context=useContext(GroupContext);if(!context){throw new Error(\"useGroupContext must be used within a GroupProvider\");}return context;};export{GroupProvider,useGroupContext};","map":{"version":3,"names":["React","createContext","useContext","useState","axios","jsx","_jsx","GroupContext","GroupProvider","_ref","children","_useState","_useState2","_slicedToArray","allGroups","setAllGroups","_useState3","_useState4","typeOneGroups","setTypeOneGroups","_useState5","_useState6","typeTwoGroups","setTypeTwoGroups","filterGroups","groups","storedGroups","JSON","parse","localStorage","getItem","length","filteredGroups","objetoComunsENovos","reduce","resultado","group","objetoComum","find","storedGroup","groupId","push","gruposEmComum","novosGrupos","error","console","log","resetGroups","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","DOMAIN","ENDPOINT","response","data","filteredAllGroups","filteredTypeOneGroups","filteredTypeTwoGroups","wrap","_callee$","_context","prev","next","get","concat","sent","result","setItem","stringify","filter","type","t0","stop","apply","arguments","updateGroups","_toConsumableArray","Provider","value","useGroupContext","context","Error"],"sources":["C:/Users/AndrÃ©/OneDrive - Softwaresul/Documentos/GitHub/Group_Manager/groupManager-chatbot/frontend/src/contexts/groupContext.js"],"sourcesContent":["import React, { createContext, useContext, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst GroupContext = createContext();\r\n\r\nconst GroupProvider = ({ children }) => {\r\n  const [allGroups, setAllGroups] = useState([]);\r\n  const [typeOneGroups, setTypeOneGroups] = useState([]);\r\n  const [typeTwoGroups, setTypeTwoGroups] = useState([]);\r\n\r\n  const filterGroups = (groups) => {\r\n    try {\r\n      const storedGroups = JSON.parse(localStorage.getItem(\"groups\"));\r\n\r\n      if (storedGroups.length > 0) {\r\n        let filteredGroups = [];\r\n\r\n        const objetoComunsENovos = groups.reduce(\r\n          (resultado, group) => {\r\n            const objetoComum = storedGroups.find(\r\n              (storedGroup) => storedGroup.groupId === group.groupId\r\n            );\r\n\r\n            if (objetoComum) {\r\n              filteredGroups.push(objetoComum);\r\n            } else {\r\n              filteredGroups.push(group);\r\n            }\r\n\r\n            return resultado;\r\n          },\r\n          { gruposEmComum: [], novosGrupos: [] }\r\n        );\r\n\r\n        return filteredGroups;\r\n      } else {\r\n      }\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const resetGroups = async () => {\r\n    const DOMAIN = \"http://localhost:3335/api\";\r\n    const ENDPOINT = \"/groups/reset\";\r\n    try {\r\n      const response = await axios.get(`${DOMAIN}${ENDPOINT}`);\r\n      const data = response.data;\r\n\r\n      const filteredGroups = filterGroups(data.result);\r\n\r\n      localStorage.setItem(\"groups\", JSON.stringify(filteredGroups));\r\n\r\n      const filteredAllGroups = filteredGroups.filter(\r\n        (group) => group.type === \"all\"\r\n      );\r\n      const filteredTypeOneGroups = filteredGroups.filter(\r\n        (group) => group.type === \"typeOne\"\r\n      );\r\n      const filteredTypeTwoGroups = filteredGroups.filter(\r\n        (group) => group.type === \"typeTwo\"\r\n      );\r\n\r\n      setAllGroups(filteredAllGroups);\r\n      setTypeOneGroups(filteredTypeOneGroups);\r\n      setTypeTwoGroups(filteredTypeTwoGroups);\r\n      console.log(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const updateGroups = (groups) => {\r\n    try {\r\n      const filteredAllGroups = groups.filter((group) => group.type === \"all\");\r\n      const filteredTypeOneGroups = groups.filter(\r\n        (group) => group.type === \"typeOne\"\r\n      );\r\n      const filteredTypeTwoGroups = groups.filter(\r\n        (group) => group.type === \"typeTwo\"\r\n      );\r\n\r\n      setAllGroups(filteredAllGroups);\r\n      setTypeOneGroups(filteredTypeOneGroups);\r\n      setTypeTwoGroups(filteredTypeTwoGroups);\r\n\r\n      const allGroups = [\r\n        ...filteredAllGroups,\r\n        ...filteredTypeOneGroups,\r\n        ...filteredTypeTwoGroups,\r\n      ];\r\n\r\n      console.log(allGroups);\r\n\r\n      // Salvar no localStorage\r\n      localStorage.setItem(\"groups\", JSON.stringify(allGroups));\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <GroupContext.Provider\r\n      value={{\r\n        allGroups,\r\n        typeOneGroups,\r\n        typeTwoGroups,\r\n        resetGroups,\r\n        updateGroups,\r\n      }}\r\n    >\r\n      {children}\r\n    </GroupContext.Provider>\r\n  );\r\n};\r\n\r\nconst useGroupContext = () => {\r\n  const context = useContext(GroupContext);\r\n  if (!context) {\r\n    throw new Error(\"useGroupContext must be used within a GroupProvider\");\r\n  }\r\n  return context;\r\n};\r\n\r\nexport { GroupProvider, useGroupContext };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}